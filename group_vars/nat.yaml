# nat - parameters
nat_keypair_name: "bastion-nat-keypair-{{ env_nick[environ] }}"
nat_keypair_file: "bastion-nat-key-{{ env_nick[environ] }}.pem"
nat_instance_type: "{{ instance_type.nat[environ] }}"
nat_instance_tags: { "Name": "Bastion_NAT", "env": "{{ environ }}", "group": "gaia" }

# size in GB
nat_volume_size: 10

nat_security_group:
  name: "bastion_nat_sg_{{ env_nick[environ] }}"
  desc: the NAT security group for bastion
  rules:
    - proto: tcp
      from_port: 80
      to_port: 80
      cidr_ip: "{{ vpc_cidr_block }}"
    - proto: tcp
      from_port: 443
      to_port: 443
      cidr_ip: "{{ vpc_cidr_block }}"
    - proto: udp
      from_port: 123
      to_port: 123
      cidr_ip: "{{ vpc_cidr_block }}"
    - proto: tcp
      from_port: 22
      to_port: 22
      cidr_ip: "{{ vpc_cidr_block }}"
  rules_egress:
    - proto: tcp
      from_port: 80
      to_port: 80
      cidr_ip: 0.0.0.0/0
    - proto: tcp
      from_port: 443
      to_port: 443
      cidr_ip: 0.0.0.0/0
    - proto: udp
      from_port: 123
      to_port: 123
      cidr_ip: 0.0.0.0/0
